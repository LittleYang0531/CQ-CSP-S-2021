//E:100
#include<iostream>
#include<iomanip>
#include<cmath>
#include<ctime>
#include<cctype>
#include<cstdio>
#include<cstdlib>
#include<climits>
//#define NDEBUG
#include<cassert>
#include<cstring>
#include<complex>
#include<algorithm>
#include<set>
#include<map>
#include<stack>
#include<queue>
#include<vector>
#include<bitset>
//#define LL __int128
#define LL long long
#define ULL unsigned LL
#define uint unsigned int
//#define int LL
//#define double long double
#define mkp make_pair
#define par pair<int,int>
#define psb push_back
#define epb emplace_back
#define f(x) ((x).first)
#define s(x) ((x).second)
using namespace std;
#define Lbt(x) ((x)&(-(x)))
#define Swap(x,y) (x^=y^=x^=y)
const int Mxxx=1e5;
inline char gc()
{
	static char buf[Mxxx],*p1=buf,*p2=buf;
	return p1==p2&&(p2=(p1=buf)+fread(buf,1,Mxxx,stdin),p1==p2)?EOF:*p1++;
}
inline char pc(char ch,bool fl=false)
{
	static char buf[Mxxx],*p1=buf,*p2=buf+Mxxx;
	return (fl||((*p1++=ch)&&p1==p2))&&(fwrite(buf,1,p1-buf,stdout),p1=buf),0;
}
//#define gc getchar
//#define pc(x,y) y?0:(putchar(x),0)
#define output pc('!',true)
inline int read()
{
	char ch=gc();
	int gans=0,gflag=0;
	for(;ch<'0'||'9'<ch;gflag|=ch=='-',ch=gc());
	for(;'0'<=ch&&ch<='9';gans=(gans<<1)+(gans<<3)+(ch^48),ch=gc());
	return gflag?-gans:gans;
}
template<typename T>
inline char read(T&gans)
{
	char ch=gc();
	int gflag=0;gans=0;
	for(;ch<'0'||'9'<ch;gflag|=ch=='-',ch=gc());
	for(;'0'<=ch&&ch<='9';gans=(gans<<1)+(gans<<3)+(ch^48),ch=gc());
	return gans=gflag?-gans:gans,ch;
}
template<typename T>
inline void write(T x)
{
	if(x>9)write(x/10);
	pc(x%10^48);
}
template<typename T>
inline void writenum(T x,char ch)
{
	if(x<0)pc('-'),x=-x;
	write(x);pc(ch);
}
inline void writechar(char x,char ch)
{
	pc(x);pc(ch);
}
template<typename T>
inline T Max(T x,T y)
{
	return x>y?x:y;
}
template<typename T>
inline T Min(T x,T y)
{
	return x<y?x:y;
}
template<typename T>
inline T Abs(T x)
{
	return x<0?-x:x;
}
template<typename T>
inline void ckmx(T&x,T y)
{
	x=Max(x,y);
}
template<typename T>
inline void ckmn(T&x,T y)
{
	x=Min(x,y);
}
inline int gt()
{
	char ch;
	for(ch=gc();ch^'('&&ch^')'&&ch^'*'&&ch^'?';ch=gc());
	return ch=='('?1:(ch==')'?2:(ch=='*'?3:0));
}
const int Mod=1e9+7;
#define Md(k) ((k)%Mod)
#define Ml(x,y) Md((LL)(x)*(y))
inline int Ad(int x,int y)
{
	return (x+=y)>=Mod?x-Mod:x;
}
inline void Add(int &x,int y)
{
	x=Ad(x,y);
}
const int Mx=500;
int n,K,chr[Mx+5],F[Mx+5][Mx+5],G[Mx+5][Mx+5],S[Mx+5][Mx+5];
int sm[Mx+5],rgt[Mx+5];
signed main()
{
	#ifndef ONLINE_JUDGE
//	freopen("_.in","r",stdin);
//	freopen("_.out","w",stdout);
	freopen("bracket.in","r",stdin);
	freopen("bracket.out","w",stdout);
	#endif
	int i,k,p,f,l,r,lv;
	n=read();K=read();
	for(i=1;i<=n;i++)
	{
		chr[i]=gt();
	}
	for(l=1;l<=n;l++)
	{
		for(r=l;r<=n;r++)
		{
			if(chr[r]^3&&chr[r])
			{
				break;
			}
		}
		rgt[l]=r-1;
	}
	for(l=n;l;l--)
	{
		for(r=l+1;r<=n;r++)
		{
			if(chr[l]^2&&chr[l]^3&&chr[r]^1&&chr[r]^3)
			{
				if(r==l+1)
				{
					F[l][r]=1;
				}
				else
				{
					for(f=1,k=l+1;k<=r-1;k++)
					{
						Add(F[l][r],S[k][r-1]);
//						if(l==1&&r==n)cout<<"F_()_l:"<<l<<" "<<r<<" "<<k<<":"<<F[k][r-1]<<"\n";
						f&=chr[k]==3||!chr[k];
						f&=(k-(l+1)+1)<=K;
						if(!f)
						{
							break;
						}
					}
					Add(F[l][r],f);
					for(k=r-1;k>=l+1;k--)
					{
						if(k^(r-1))Add(F[l][r],S[l+1][k]);
						if((chr[k]^3&&chr[k])||((r-1)-k+1>K))break;
					}
				}
			}
//			if(l==1&&r==n)cout<<"F:"<<l<<" "<<r<<":"<<F[l][r]<<"\n";
//			if(l==3&&r==7)cout<<"F:"<<l<<" "<<r<<":"<<F[l][r]<<"\n";
//			if(l==6&&r==10)cout<<"F:"<<l<<" "<<r<<":"<<F[l][r]<<"\n";
//			if(l==4&&r==10)cout<<"F:"<<l<<" "<<r<<":"<<F[l][r]<<"\n";
//			if(l==3&&r==10)cout<<"F:"<<l<<" "<<r<<":"<<F[l][r]<<"\n";
			for(sm[r+1]=0,k=r;k>l;k--)
			{
				sm[k]=Ad(sm[k+1],S[k][r]);
			}
			for(k=l+1;k<=r;k++)
			{
				if((lv=F[l][k-1]))
				{
					p=Min(k+K-1,Min(r-1,rgt[k]));
//					if(l==1&&r==n)cout<<"F_trs:"<<l<<" "<<k<<" "<<p<<" "<<r<<":"<<lv<<" "<<Ad(sm[k],Mod-sm[p+2])<<'\n';
					Add(G[l][r],Ml(lv,Ad(sm[k],Mod-sm[p+2])));
				}
			}
			S[l][r]=Ad(F[l][r],G[l][r]);
//			cout<<"F:"<<l<<" "<<r<<":"<<F[l][r]<<"\n";
		}
	}
//	cout<<"F_Chk:"<<F[3][n]<<" "<<F[4][n]<<"\n";
	writenum(S[1][n],10);
	return output;
}
/*
7 3
(*??*??
*///5
/*
10 2
???(*??(?)
*///19
/*
100 18
?*?????)?????*????????*??(*???????*????????????*???*?????*?????*??????*****??*??????????*???????????
*///860221334
/*
500 57
????*???***??*?????(????????*?**??????(??????????*??**??*?????????????????????*??????????*?????**????*?????????????????????*?????????????????????????????????*)*?????*????*??*???????????*????????????????*?????*?????*?*???)?????????*????*???*??????????????*???????????????????????*?????*?????*????????????????**??*?????????*?????????????????*??**?????????????*????**?*??*??*??????????*???*??**?(?*???????????????????????????**???????????***??????????*???????*)*???*?????????????????????*????????*????*?
*///546949722
/*
6 0
()()()
*/
